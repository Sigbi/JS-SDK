<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>DocSpace JavaScript SDK</title>
        <script src="https://suleymanovrn.onlyoffice.com/static/scripts/api.js"></script>
    </head>
    
    <body>
        <div id="ds-frame"></div>
    </body>
    <script>

        var onAppReady = function (e) {
            var frame = DocSpace.SDK.frames["ds-frame"];
            // EACH METHOD RUNS TWICE ON APP READY
            console.log("APP READY!");
            //\\ WORKING METHODS
            //frame.getUserInfo().then(res => console.log(res));
            frame.getFolderInfo().then(res => {
                console.log("==== FOLDER INFO ====");
                console.log(res);
            });
            ////frame.createFile(432068, "title").then(res => console.log(res));
            //frame.createFolder(432068, "folder").then(res => console.log(res));
            
            // RETURNS [] WHEN NOTHING SELECTED, POSSIBLY THE SAME AS 3 METHODS BELOW
            //frame.getSelection().then(res => console.log(res));
            
            // METHODS RETURN EMPTY ARRAYS
            //frame.getFiles().then(res => console.log(res));
            //frame.getFolders().then(res => console.log(res));
            //frame.getList().then(res => console.log(res));

            // METHODS RETURN ERROR
            //frame.getConfig().then(res => console.log(res));
            //frame.setListView("table").then(res => console.log(res));
            //frame.createRoom("room title", "EditingRoom").then(res => console.log(res));

            // METHOD CREATES FOLDER ON CREATE FILE
            // frame.openModal("CreateFile").then(res => console.log(res));
        };

        const config = { 
            "destroyText": "",
            "editorType": "embedded",
            "events": {
                "onSelectCallback": null,
                "onCloseCallback": null,
                "onAppReady": onAppReady,
                "onAppError": null
            },
            "filter": {
                "count": 100,
                "page": 1,
                "sortorder": "descending",
                "sortby": "DateAndTime"
            },
            "frameId": "ds-frame",
            "height":  "700px",
            "id": null,
            "locale": "en-US",
            "mode": "manager",
            "name": "frameDocSpace",
            "rootPath": "/rooms/shared/",
            "showFilter": true,
            "showHeader": true,
            "showMenu": true,
            "showTitle": true,
            "src": "https://suleymanovrn.onlyoffice.com",
            "theme": "Base",
            "type": "desktop",
            "viewAs": "row",
            "width": "100%"
        };

        var docSpace = DocSpace.SDK.initManager(config);
    </script>
</html>